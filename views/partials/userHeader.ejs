<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11.6.0/dist/sweetalert2.all.min.js"></script>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
    />
    <title>Styleova</title>
    <link rel="icon" type="image/x-icon" href="/assets/img/icon.jpg" />
  </head>

  <body>
    <!-- nav -->
    <header>
      <nav class="navbar navbar-expand-lg bg-body-tertiary">
        <div class="container-fluid">
          <a class="navbar-brand" href="/">
            <em>
              <a href="/" style="text-decoration: none; color: #000">
                <h2><i class="bi bi-gem pe-2"></i>Styleova</h2>
              </a>
            </em>
          </a>
          <button
            class="navbar-toggler"
            type="button"
            data-bs-toggle="collapse"
            data-bs-target="#navbarNavDropdown"
            aria-controls="navbarNavDropdown"
            aria-expanded="false"
            aria-label="Toggle navigation"
          >
            <span class="navbar-toggler-icon"></span>
          </button>
          <div
            class="collapse navbar-collapse justify-content-end"
            id="navbarNavDropdown"
          >
            <ul class="navbar-nav">
              <% if (user) { %>
                <li class="nav-item">
                  <a class="nav-link active" aria-current="page" href="/user/dashboard">
                    <i class="bi bi-house"></i> Home
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/user/products">
                    <i class="bi bi-menu-button-wide-fill"></i> All
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link position-relative" href="/user/getWishlist">
                    <i class="bi bi-heart me-2"></i>Wishlist
                    <% if (typeof wishlistCount !== 'undefined' && wishlistCount > 0) { %>
                      <span class="badge wishlist-badge" id="wishlistBadge">
                        <%= wishlistCount %>
                      </span>
                    <% } %>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link position-relative" href="/user/viewCart">
                    <i class="bi bi-bag"></i> Cart
                    <% if (typeof cartCount !== 'undefined' && cartCount > 0) { %>
                      <span class="badge cart-badge" id="cartBadge">
                        <%= cartCount %>
                      </span>
                    <% } %>
                  </a>
                </li>
                <li class="nav-item">
                  <a class="nav-link" href="/user/profile">
                    <i class="bi bi-person-circle"></i> Account
                  </a>
                </li>
                <li class="nav-item">
                  <a href="/user/logout">
                    <button type="button" class="btn btn-danger text-white btn-outline-secondary">
                      <i class="bi bi-person"></i> Logout
                    </button>
                  </a>
                </li>
              <% } %>
            </ul>
          </div>
        </div>
      </nav>
    </header>
  </body>
  <style>
    .carousel-inner img {
      width: 100%;
      height: auto;
      object-fit: cover;
    }
    .gradient-custom {
      background: #d3d3d3;
      background: -webkit-linear-gradient(
        to right,
        rgba(211, 211, 211, 1),
        rgba(173, 216, 230, 1),
        rgba(173, 216, 230, 0),
        rgba(211, 211, 211, 0)
      );
      background: linear-gradient(
        to right,
        rgba(211, 211, 211, 1),
        rgba(173, 216, 230, 1),
        rgba(173, 216, 230, 0),
        rgba(211, 211, 211, 0)
      );
    }

    /* Advanced Badge Styling */
    .cart-badge, .wishlist-badge {
      position: absolute;
      top: -8px;
      right: -12px;
      background-color: #ff3f6c; /* Vibrant color like Flipkart/Facebook */
      color: white;
      font-size: 0.75rem;
      font-weight: bold;
      width: 20px;
      height: 20px;
      line-height: 20px;
      text-align: center;
      border-radius: 50%; /* Circular badge */
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2); /* Subtle shadow for depth */
      transition: transform 0.2s ease-in-out, background-color 0.3s;
      animation: badgePulse 1.5s infinite; /* Pulse animation */
    }

    /* Hover Effect */
    .nav-link:hover .cart-badge,
    .nav-link:hover .wishlist-badge {
      transform: scale(1.1); /* Slight scale-up on hover */
      background-color: #e6395e; /* Darker shade on hover */
    }

    /* Animation Keyframes */
    @keyframes badgePulse {
      0% {
        transform: scale(1);
      }
      50% {
        transform: scale(1.05);
      }
      100% {
        transform: scale(1);
      }
    }

    /* Ensure badge stays above icons */
    .nav-link {
      position: relative;
      display: inline-flex;
      align-items: center;
    }
  </style>
</html>